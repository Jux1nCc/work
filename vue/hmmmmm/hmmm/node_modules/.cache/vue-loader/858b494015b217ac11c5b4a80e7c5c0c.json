{"remainingRequest":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue","mtime":1595075469414},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRVc2VySW5mbywgcXVpdCB9IGZyb20gJ0AvYXBpL2hvbWUnDQppbXBvcnQgeyByZW1vdmVUb2tlbiwgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL3Rva2VuJw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VySW5mbzogJycsDQogICAgICBjb2xsYXBzZTogZmFsc2UNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYoIWdldFRva2VuKCkpew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgZ2V0VXNlckluZm8oKS50aGVuKHJlcz0+ew0KICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgdGhpcy51c2VySW5mbyA9IHJlcy5kYXRhDQogICAgICB0aGlzLnVzZXJJbmZvLmF2YXRhciA9IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMICsgJy8nICsgdGhpcy51c2VySW5mby5hdmF0YXINCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvID0gdGhpcy51c2VySW5mbw0KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucm9sZSA9IHJlcy5kYXRhLnJvbGUNCiAgICAgIGlmKHJlcy5kYXRhLnN0YXR1cyA9PSAwKXsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjnmoTotKblj7flt7LooqvnpoHnlKgs6K+36IGU57O7566h55CG5ZGYIScpDQogICAgICAgIHJlbW92ZVRva2VuKCkNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgfWVsc2Ugew0KICAgICAgICBpZighdGhpcy4kcm91dGUubWV0YS5ydWxlcy5pbmNsdWRlcyhyZXMuZGF0YS5yb2xlKSl7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjml6DmnYPorr/pl67or6XpobXpnaInKTsNCiAgICAgICAgICByZW1vdmVUb2tlbigpOyANCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcXVpdEJ0bigpew0KICAgICAgdGhpcy4kY29uZmlybSgi6K+356Gu6K6k5piv5ZCm6YCA5Ye655m75b2VPyIsICLmuKnppqjmj5DnpLohIiwgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIumAgOWHuueZu+W9lSEiLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi566X5LqGLOeCuemUmeS6hiEiLA0KICAgICAgICB0eXBlOiAid2FybmluZyINCiAgICAgIH0pLnRoZW4oKCk9PnsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIG1lc3NhZ2U6ICLpgIDlh7rmiJDlip8hIg0KICAgICAgICB9KQ0KICAgICAgICBxdWl0KCkudGhlbigoKT0+ew0KICAgICAgICAgIHJlbW92ZVRva2VuKCk7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgICB9KQ0KICAgICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojpgIDlh7ohIg0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"layout.vue","sourceRoot":"src/view/home","sourcesContent":["<template>\r\n  <el-container class=\"layout\">\r\n  <el-header class=\"header\">\r\n    <div class=\"left\">\r\n      <i class=\"el-icon-s-fold logoIcon\" @click='collapse=!collapse'></i>\r\n      <img src=\"@/assets/img/loginLogo.png\" alt class=\"logoImg\" />\r\n      <span class=\"logoLitle\">黑马面面</span>\r\n    </div>\r\n    <div class=\"right\">\r\n      <img  alt class=\"userImg\" :src=\"$store.state.userInfo.avatar\" />\r\n        <span class=\"userName\">{{$store.state.userInfo.username}},你好</span>\r\n        <el-button class=\"userBtn\"  size=\"mini\" type=\"primary\" @click='quitBtn'>退出</el-button>\r\n    </div>\r\n  </el-header>\r\n  <el-container>\r\n    <el-aside class=\"aside\" width='auto'>\r\n      <el-menu :collapse='collapse' :router=\"true\" :default-active=\"$route.fullPath\" class=\"el-menu-vertical-demo\">\r\n        <el-menu-item index=\"/home/chart\">\r\n            <i class=\"el-icon-pie-chart\"></i>\r\n            <span slot=\"title\">数据概览</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/userList\">\r\n            <i class=\"el-icon-user\"></i>\r\n            <span slot=\"title\">用户列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/question\">\r\n            <i class=\"el-icon-edit-outline\"></i>\r\n            <span slot=\"title\">题库列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/business\">\r\n            <i class=\"el-icon-office-building\"></i>\r\n            <span slot=\"title\">企业列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/subject\">\r\n            <i class=\"el-icon-notebook-2\"></i>\r\n            <span slot=\"title\">学科列表</span>\r\n          </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-main class=\"main\">\r\n      <router-view></router-view>\r\n    </el-main>\r\n  </el-container>\r\n</el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo, quit } from '@/api/home'\r\nimport { removeToken, getToken } from '@/utils/token'\r\nexport default {\r\n  data() {\r\n    return {\r\n      userInfo: '',\r\n      collapse: false\r\n    }\r\n  },\r\n  created() {\r\n    if(!getToken()){\r\n      this.$router.push('/');\r\n      return;\r\n    }\r\n    getUserInfo().then(res=>{\r\n      console.log(res)\r\n      this.userInfo = res.data\r\n      this.userInfo.avatar = process.env.VUE_APP_URL + '/' + this.userInfo.avatar\r\n      this.$store.state.userInfo = this.userInfo\r\n      this.$store.state.role = res.data.role\r\n      if(res.data.status == 0){\r\n        this.$message.warning('您的账号已被禁用,请联系管理员!')\r\n        removeToken()\r\n        this.$router.push('/')\r\n      }else {\r\n        if(!this.$route.meta.rules.includes(res.data.role)){\r\n          this.$message.warning('您无权访问该页面');\r\n          removeToken(); \r\n          this.$router.push('/')\r\n        }\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    quitBtn(){\r\n      this.$confirm(\"请确认是否退出登录?\", \"温馨提示!\", {\r\n        confirmButtonText: \"退出登录!\",\r\n        cancelButtonText: \"算了,点错了!\",\r\n        type: \"warning\"\r\n      }).then(()=>{\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"退出成功!\"\r\n        })\r\n        quit().then(()=>{\r\n          removeToken();\r\n          this.$router.push('/')\r\n        })\r\n      }).catch(()=>{\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消退出!\"\r\n        })\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang='less'>\r\n.layout {\r\n  height: 100%;\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 60px;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .left {\r\n      .logoIcon {\r\n        font-size: 24px;\r\n      }\r\n      .logoImg {\r\n        width: 28px;\r\n        margin-left: 20px;\r\n        margin-right: 11px;\r\n      }\r\n      .logoLitle {\r\n        width: 92px;\r\n        height: 22px;\r\n        font-size: 22px;\r\n        font-family: Microsoft YaHei Regular, Microsoft YaHei Regular-Regular;\r\n        font-weight: bold;\r\n        text-align: left;\r\n        color: #49a1ff;\r\n        letter-spacing: 1px;\r\n      }\r\n    }\r\n    .right {\r\n      display: flex;\r\n      align-items: center;\r\n      .userImg {\r\n        width: 43px;\r\n        margin-right: 10px;\r\n      }\r\n      .userBtn {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n  .aside {\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n      width: 200px;\r\n    }\r\n  }\r\n  .main{\r\n    background-color: #E8E9EC;\r\n  }\r\n}\r\n</style>"]}]}