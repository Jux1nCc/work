{"remainingRequest":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue","mtime":1595075469414},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmxheW91dCB7DQogIGhlaWdodDogMTAwJTsNCiAgLmhlYWRlciB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBoZWlnaHQ6IDYwcHg7DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTsNCiAgICBib3gtc2hhZG93OiAwcHggMnB4IDVweCAwcHggcmdiYSg2MywgNjMsIDYzLCAwLjM1KTsNCiAgICAubGVmdCB7DQogICAgICAubG9nb0ljb24gew0KICAgICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICB9DQogICAgICAubG9nb0ltZyB7DQogICAgICAgIHdpZHRoOiAyOHB4Ow0KICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsNCiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMXB4Ow0KICAgICAgfQ0KICAgICAgLmxvZ29MaXRsZSB7DQogICAgICAgIHdpZHRoOiA5MnB4Ow0KICAgICAgICBoZWlnaHQ6IDIycHg7DQogICAgICAgIGZvbnQtc2l6ZTogMjJweDsNCiAgICAgICAgZm9udC1mYW1pbHk6IE1pY3Jvc29mdCBZYUhlaSBSZWd1bGFyLCBNaWNyb3NvZnQgWWFIZWkgUmVndWxhci1SZWd1bGFyOw0KICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgICAgY29sb3I6ICM0OWExZmY7DQogICAgICAgIGxldHRlci1zcGFjaW5nOiAxcHg7DQogICAgICB9DQogICAgfQ0KICAgIC5yaWdodCB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIC51c2VySW1nIHsNCiAgICAgICAgd2lkdGg6IDQzcHg7DQogICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsNCiAgICAgIH0NCiAgICAgIC51c2VyQnRuIHsNCiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogICAgICB9DQogICAgfQ0KICB9DQogIC5hc2lkZSB7DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTsNCiAgICBib3gtc2hhZG93OiAwIDJweCA1cHggMHB4IHJnYmEoNjMsIDYzLCA2MywgMC4zNSk7DQogICAgLmVsLW1lbnUtdmVydGljYWwtZGVtbzpub3QoLmVsLW1lbnUtLWNvbGxhcHNlKSB7DQogICAgICB3aWR0aDogMjAwcHg7DQogICAgfQ0KICB9DQogIC5tYWluew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNFOEU5RUM7DQogIH0NCn0NCg=="},{"version":3,"sources":["layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"layout.vue","sourceRoot":"src/view/home","sourcesContent":["<template>\r\n  <el-container class=\"layout\">\r\n  <el-header class=\"header\">\r\n    <div class=\"left\">\r\n      <i class=\"el-icon-s-fold logoIcon\" @click='collapse=!collapse'></i>\r\n      <img src=\"@/assets/img/loginLogo.png\" alt class=\"logoImg\" />\r\n      <span class=\"logoLitle\">黑马面面</span>\r\n    </div>\r\n    <div class=\"right\">\r\n      <img  alt class=\"userImg\" :src=\"$store.state.userInfo.avatar\" />\r\n        <span class=\"userName\">{{$store.state.userInfo.username}},你好</span>\r\n        <el-button class=\"userBtn\"  size=\"mini\" type=\"primary\" @click='quitBtn'>退出</el-button>\r\n    </div>\r\n  </el-header>\r\n  <el-container>\r\n    <el-aside class=\"aside\" width='auto'>\r\n      <el-menu :collapse='collapse' :router=\"true\" :default-active=\"$route.fullPath\" class=\"el-menu-vertical-demo\">\r\n        <el-menu-item index=\"/home/chart\">\r\n            <i class=\"el-icon-pie-chart\"></i>\r\n            <span slot=\"title\">数据概览</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/userList\">\r\n            <i class=\"el-icon-user\"></i>\r\n            <span slot=\"title\">用户列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/question\">\r\n            <i class=\"el-icon-edit-outline\"></i>\r\n            <span slot=\"title\">题库列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/business\">\r\n            <i class=\"el-icon-office-building\"></i>\r\n            <span slot=\"title\">企业列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/subject\">\r\n            <i class=\"el-icon-notebook-2\"></i>\r\n            <span slot=\"title\">学科列表</span>\r\n          </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-main class=\"main\">\r\n      <router-view></router-view>\r\n    </el-main>\r\n  </el-container>\r\n</el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo, quit } from '@/api/home'\r\nimport { removeToken, getToken } from '@/utils/token'\r\nexport default {\r\n  data() {\r\n    return {\r\n      userInfo: '',\r\n      collapse: false\r\n    }\r\n  },\r\n  created() {\r\n    if(!getToken()){\r\n      this.$router.push('/');\r\n      return;\r\n    }\r\n    getUserInfo().then(res=>{\r\n      console.log(res)\r\n      this.userInfo = res.data\r\n      this.userInfo.avatar = process.env.VUE_APP_URL + '/' + this.userInfo.avatar\r\n      this.$store.state.userInfo = this.userInfo\r\n      this.$store.state.role = res.data.role\r\n      if(res.data.status == 0){\r\n        this.$message.warning('您的账号已被禁用,请联系管理员!')\r\n        removeToken()\r\n        this.$router.push('/')\r\n      }else {\r\n        if(!this.$route.meta.rules.includes(res.data.role)){\r\n          this.$message.warning('您无权访问该页面');\r\n          removeToken(); \r\n          this.$router.push('/')\r\n        }\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    quitBtn(){\r\n      this.$confirm(\"请确认是否退出登录?\", \"温馨提示!\", {\r\n        confirmButtonText: \"退出登录!\",\r\n        cancelButtonText: \"算了,点错了!\",\r\n        type: \"warning\"\r\n      }).then(()=>{\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"退出成功!\"\r\n        })\r\n        quit().then(()=>{\r\n          removeToken();\r\n          this.$router.push('/')\r\n        })\r\n      }).catch(()=>{\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消退出!\"\r\n        })\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang='less'>\r\n.layout {\r\n  height: 100%;\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 60px;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .left {\r\n      .logoIcon {\r\n        font-size: 24px;\r\n      }\r\n      .logoImg {\r\n        width: 28px;\r\n        margin-left: 20px;\r\n        margin-right: 11px;\r\n      }\r\n      .logoLitle {\r\n        width: 92px;\r\n        height: 22px;\r\n        font-size: 22px;\r\n        font-family: Microsoft YaHei Regular, Microsoft YaHei Regular-Regular;\r\n        font-weight: bold;\r\n        text-align: left;\r\n        color: #49a1ff;\r\n        letter-spacing: 1px;\r\n      }\r\n    }\r\n    .right {\r\n      display: flex;\r\n      align-items: center;\r\n      .userImg {\r\n        width: 43px;\r\n        margin-right: 10px;\r\n      }\r\n      .userBtn {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n  .aside {\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n      width: 200px;\r\n    }\r\n  }\r\n  .main{\r\n    background-color: #E8E9EC;\r\n  }\r\n}\r\n</style>"]}]}