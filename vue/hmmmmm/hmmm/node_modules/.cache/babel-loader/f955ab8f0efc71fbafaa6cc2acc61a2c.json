{"remainingRequest":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\babel-loader\\lib\\index.js!D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\src\\view\\home\\layout.vue","mtime":1595075469414},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\activity\\vue\\hmmmmm\\hmmm\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRVc2VySW5mbywgcXVpdCB9IGZyb20gJ0AvYXBpL2hvbWUnOwppbXBvcnQgeyByZW1vdmVUb2tlbiwgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL3Rva2VuJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySW5mbzogJycsCiAgICAgIGNvbGxhcHNlOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICghZ2V0VG9rZW4oKSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICByZXR1cm47CiAgICB9CgogICAgZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgX3RoaXMudXNlckluZm8gPSByZXMuZGF0YTsKICAgICAgX3RoaXMudXNlckluZm8uYXZhdGFyID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwgKyAnLycgKyBfdGhpcy51c2VySW5mby5hdmF0YXI7CiAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbyA9IF90aGlzLnVzZXJJbmZvOwogICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucm9sZSA9IHJlcy5kYXRhLnJvbGU7CgogICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjnmoTotKblj7flt7LooqvnpoHnlKgs6K+36IGU57O7566h55CG5ZGYIScpOwoKICAgICAgICByZW1vdmVUb2tlbigpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIV90aGlzLiRyb3V0ZS5tZXRhLnJ1bGVzLmluY2x1ZGVzKHJlcy5kYXRhLnJvbGUpKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjml6DmnYPorr/pl67or6XpobXpnaInKTsKCiAgICAgICAgICByZW1vdmVUb2tlbigpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBxdWl0QnRuOiBmdW5jdGlvbiBxdWl0QnRuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuivt+ehruiupOaYr+WQpumAgOWHuueZu+W9lT8iLCAi5rip6aao5o+Q56S6ISIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIumAgOWHuueZu+W9lSEiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLnrpfkuoYs54K56ZSZ5LqGISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBtZXNzYWdlOiAi6YCA5Ye65oiQ5YqfISIKICAgICAgICB9KTsKCiAgICAgICAgcXVpdCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVtb3ZlVG9rZW4oKTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgbWVzc2FnZTogIuW3suWPlua2iOmAgOWHuiEiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,WAAA,EAAA,IAAA,QAAA,YAAA;AACA,SAAA,WAAA,EAAA,QAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAPA,qBAOA;AAAA;;AACA,QAAA,CAAA,QAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA;;AACA,IAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,OAAA,CAAA,GAAA,CAAA,WAAA,GAAA,GAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,QAAA;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,kBAAA;;AACA,QAAA,WAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAJA,MAIA;AACA,YAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA;;AACA,UAAA,WAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA;AACA,KAjBA;AAkBA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,WAAA,QAAA,CAAA,YAAA,EAAA,OAAA,EAAA;AACA,QAAA,iBAAA,EAAA,OADA;AAEA,QAAA,gBAAA,EAAA,SAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,SADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,IAAA,GAAA,IAAA,CAAA,YAAA;AACA,UAAA,WAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,SAHA;AAIA,OAbA,EAaA,KAbA,CAaA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA,OAlBA;AAmBA;AArBA;AA/BA,CAAA","sourcesContent":["<template>\r\n  <el-container class=\"layout\">\r\n  <el-header class=\"header\">\r\n    <div class=\"left\">\r\n      <i class=\"el-icon-s-fold logoIcon\" @click='collapse=!collapse'></i>\r\n      <img src=\"@/assets/img/loginLogo.png\" alt class=\"logoImg\" />\r\n      <span class=\"logoLitle\">黑马面面</span>\r\n    </div>\r\n    <div class=\"right\">\r\n      <img  alt class=\"userImg\" :src=\"$store.state.userInfo.avatar\" />\r\n        <span class=\"userName\">{{$store.state.userInfo.username}},你好</span>\r\n        <el-button class=\"userBtn\"  size=\"mini\" type=\"primary\" @click='quitBtn'>退出</el-button>\r\n    </div>\r\n  </el-header>\r\n  <el-container>\r\n    <el-aside class=\"aside\" width='auto'>\r\n      <el-menu :collapse='collapse' :router=\"true\" :default-active=\"$route.fullPath\" class=\"el-menu-vertical-demo\">\r\n        <el-menu-item index=\"/home/chart\">\r\n            <i class=\"el-icon-pie-chart\"></i>\r\n            <span slot=\"title\">数据概览</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/userList\">\r\n            <i class=\"el-icon-user\"></i>\r\n            <span slot=\"title\">用户列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/question\">\r\n            <i class=\"el-icon-edit-outline\"></i>\r\n            <span slot=\"title\">题库列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/business\">\r\n            <i class=\"el-icon-office-building\"></i>\r\n            <span slot=\"title\">企业列表</span>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"/home/subject\">\r\n            <i class=\"el-icon-notebook-2\"></i>\r\n            <span slot=\"title\">学科列表</span>\r\n          </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-main class=\"main\">\r\n      <router-view></router-view>\r\n    </el-main>\r\n  </el-container>\r\n</el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getUserInfo, quit } from '@/api/home'\r\nimport { removeToken, getToken } from '@/utils/token'\r\nexport default {\r\n  data() {\r\n    return {\r\n      userInfo: '',\r\n      collapse: false\r\n    }\r\n  },\r\n  created() {\r\n    if(!getToken()){\r\n      this.$router.push('/');\r\n      return;\r\n    }\r\n    getUserInfo().then(res=>{\r\n      console.log(res)\r\n      this.userInfo = res.data\r\n      this.userInfo.avatar = process.env.VUE_APP_URL + '/' + this.userInfo.avatar\r\n      this.$store.state.userInfo = this.userInfo\r\n      this.$store.state.role = res.data.role\r\n      if(res.data.status == 0){\r\n        this.$message.warning('您的账号已被禁用,请联系管理员!')\r\n        removeToken()\r\n        this.$router.push('/')\r\n      }else {\r\n        if(!this.$route.meta.rules.includes(res.data.role)){\r\n          this.$message.warning('您无权访问该页面');\r\n          removeToken(); \r\n          this.$router.push('/')\r\n        }\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    quitBtn(){\r\n      this.$confirm(\"请确认是否退出登录?\", \"温馨提示!\", {\r\n        confirmButtonText: \"退出登录!\",\r\n        cancelButtonText: \"算了,点错了!\",\r\n        type: \"warning\"\r\n      }).then(()=>{\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"退出成功!\"\r\n        })\r\n        quit().then(()=>{\r\n          removeToken();\r\n          this.$router.push('/')\r\n        })\r\n      }).catch(()=>{\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消退出!\"\r\n        })\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang='less'>\r\n.layout {\r\n  height: 100%;\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 60px;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .left {\r\n      .logoIcon {\r\n        font-size: 24px;\r\n      }\r\n      .logoImg {\r\n        width: 28px;\r\n        margin-left: 20px;\r\n        margin-right: 11px;\r\n      }\r\n      .logoLitle {\r\n        width: 92px;\r\n        height: 22px;\r\n        font-size: 22px;\r\n        font-family: Microsoft YaHei Regular, Microsoft YaHei Regular-Regular;\r\n        font-weight: bold;\r\n        text-align: left;\r\n        color: #49a1ff;\r\n        letter-spacing: 1px;\r\n      }\r\n    }\r\n    .right {\r\n      display: flex;\r\n      align-items: center;\r\n      .userImg {\r\n        width: 43px;\r\n        margin-right: 10px;\r\n      }\r\n      .userBtn {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n  .aside {\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0 2px 5px 0px rgba(63, 63, 63, 0.35);\r\n    .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n      width: 200px;\r\n    }\r\n  }\r\n  .main{\r\n    background-color: #E8E9EC;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/view/home"}]}