# Vue.js - day04

## åé¦ˆ

1.	å¾ˆå¥½ç©,å¤´å‘æ‰å…‰äº†,å¥¥åˆ©ç»™
1.	ğŸ˜‹ğŸš€ğŸš€ğŸš€
1.	å¸Œæœ›æ˜å¤©æ˜¯å°æ¯ç‰›éª‘æ‘©æ‰˜ç‰›é€¼è½°è½°çš„ä¸€å¤©ï¼ï¼ï¼
1.	ï¼ï¼ï¼
1.	åŠ æ²¹,è¿½æ±‚å¹¸ç¦!
1.	å¾ˆæ£’,å¸Œæœ›èƒ½å¤šæ¥äº›æ‹“å±•
1.	æœ‰è¶£åˆå¥½ç©



## å›é¡¾

1. ref
1. è·å–dom
      1. åœ¨æ ‡ç­¾ä¸ŠåŠ ä¸€ä¸ªrefå±æ€§  ref="å€¼"
      2. è·å–ï¼šthis.$refs.å€¼
2. ç”Ÿå‘½å‘¨æœŸ
   1. beforeCreate:åˆ›å»ºå‰ï¼Œè¿˜ä¸èƒ½è®¿é—®dataä¸methods
   2. created:åˆ›å»ºåï¼Œå¯ä»¥è®¿é—®dataä¸methods,ä½†æ˜¯è¿˜ä¸èƒ½è®¿é—®vueæ¸²æŸ“åçš„dom
      1. ç”¨äºè¿›å…¥é¡µé¢æ¥å£è¯·æ±‚
   3. beforeMount:æ¸²æŸ“å‰ï¼Œè¿˜ä¸èƒ½è®¿é—®vueæ¸²æŸ“åçš„dom
   4. mounted:æ¸²æŸ“åï¼Œå¯ä»¥è®¿é—®vueæ¸²æŸ“åçš„dom
      1. ç”¨äºè¿›å…¥é¡µé¢domæ“ä½œ
   5. ä¸Šé¢å››ä¸ªç”Ÿå‘½å‘¨æœŸåªæ‰§è¡Œä¸€æ¬¡
   6. beforeUpdate:æ›´æ–°å‰ï¼Œvueåœ¨é¡µé¢ä¸­ä½¿ç”¨çš„æ•°æ®å·²ä¿®æ”¹ï¼Œä½†æ˜¯é¡µé¢è¿˜æ²¡å®Œæˆæ¸²æŸ“
   7. updated:æ›´æ–°åï¼Œvueåœ¨é¡µé¢ä¸­ä½¿ç”¨çš„æ•°æ®å·²ä¿®æ”¹ä¸”é¡µé¢å·²å®Œæˆç›¸å…³æ¸²æŸ“
   8. ä¸Šé¢äºŒä¸ªç”Ÿå‘½å‘¨æœŸå¯èƒ½ æ‰§è¡Œå¤šæ¬¡
3. $nextTick
   1. å®ƒå°±æ˜¯setTimeouté«˜çº§ç‰ˆæœ¬ï¼Œå®ƒå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢æ‰€éœ€è¦æ—¶é—´ç®—å‡ºæ¥äº†
4. å•å…ƒç´ åŠ¨ç”»
   1. æ¡ä»¶ï¼šè¿›å…¥/ç¦»å¼€  v-if/v-show
   2. å®ç°ï¼š
      1. 1ç”¨transitionåŒ…ä½
      2. åœ¨transitionä¸ŠåŠ ä¸€ä¸ªnameå±æ€§  nameçš„å€¼å°±æ˜¯åé¢cssçš„å‰ç¼€  name="xxx"
      3. .xxx-enter-active:å®ƒæ˜¯è¿›å…¥åŠ¨ç”»æ‰§è¡Œä½“
      4. .xxx-leave-active:å®ƒæ˜¯ç¦»å¼€åŠ¨ç”»æ‰§è¡Œä½“
      5. .xxx-enter:è¿›å…¥æ—¶ï¼Œå¸Œæœ›ä»ä»€ä¹ˆçŠ¶æ€å˜åˆ°æ­£å¸¸çŠ¶æ€
      6. .xxx-leave-to:ç¦»å¼€æ—¶ï¼Œå¸Œæœ›ä»æ­£å¸¸çŠ¶æ€å˜åˆ°ä»€ä¹ˆçŠ¶æ€
5. å¤šå…ƒç´ åŠ¨ç”»
   1. ç”¨transition-groupåŒ…ä½
   2. æ¯ä¸€ä¸ªå­é¡¹éƒ½è¦åŠ ä¸€ä¸ªkey





## å¤©çŸ¥é“

http://wthrcdn.etouch.cn/weather_mini        å‚æ•°ï¼šcity      getè¯·æ±‚





## ç»„ä»¶ä»‹ç» 

ç»„ä»¶æ˜¯ä¸€ä¸ªhtml,css ,jsç»¼åˆå°è£…

.vueæ–‡ä»¶

è¿è¡Œï¼švue serve è·¯å¾„

## å®‰è£…å•æ–‡ä»¶ç»„ä»¶æ‰€éœ€è¦ä¾èµ–

[ç›´é€šè½¦](https://cli.vuejs.org/zh/guide/prototyping.html)

**å®‰è£…`vue-cli`**  è„šæ‰‹æ¶

- åœ¨cmdå‘½ä»¤çª—å£è¾“å…¥ï¼ˆåœ¨ä»»æ„çš„è·¯å¾„éƒ½å¯ä»¥ï¼‰

  ```html
  npm install -g @vue/cli
  ```

  

- å®‰è£…æˆåŠŸæ£€æµ‹åœ¨cmdå‘½ä»¤çª—å£è¾“å…¥ï¼š  

  ```html
  vue -V    // å¦‚æœå®‰è£…æˆåŠŸä¼šè¿”å›ï¼š@vue/cli 4.0.5ç±»ä¼¼è¿™æ ·çš„ç‰ˆæœ¬ä¿¡æ¯
  ```

  

  

**å®‰è£…å‡ºé”™è§£å†³æ–¹æ¡ˆ**(å¦‚æœ vue -Væ— æ³•æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…å¤±è´¥)

- è§£å†³æ–¹æ¡ˆ:

  1. æ›´æ¢ç½‘ç»œç¯å¢ƒï¼šæœ‰çº¿ï¼Œæ¢æ— çº¿ï¼Œæ— çº¿æ¢4G

  2. æ›´æ¢å®‰è£…çš„å·¥å…·

     1. `cnpmå®‰è£…` ï¼š

        - å…ˆå®‰è£…æ·˜å®é•œåƒ
        
          ```html
          npm install -g cnpm --registry=https://registry.npm.taobao.org
          ```
        
        -  cnpmå®‰è£…vue-cliï¼š
        
          ```html
           cnpm install -g @vue/cli
          ```
        
     2.  `yarnå®‰è£…` :
     
        - å…ˆå®‰è£…yarn    
     
          ```html
           npm install -g yarn 
          ```
     
        -  yarnå®‰è£…vue-cli
     
          ```html
           yarn global add @vue/cli
          ```
     
             

  3. æ¸…é™¤npmç¼“å­˜ä¹‹åï¼Œé‡æ–°å®‰è£…

     1. ```html
        npm cache clean -f      //æ¸…é™¤npmç¼“å­˜
        ```
     
        
     
     2. é‡æ–°æ‰§è¡Œå®‰è£…çš„å‘½ä»¤
     
     3. åœ¨ç”¨è„šæ‰‹æ¶æ­å»ºvueé¡¹ç›®æ—¶ï¼Œæç¤ºï¼šæ— æ³•åŠ è½½æ–‡ä»¶ C:\Users\ç”µè„‘ç”¨æˆ·å\AppData\Roaming\npm\vue.ps1,å› ä¸ºåœ¨æ­¤ç³»ç»Ÿç¦æ­¢è¿è¡Œè„šæœ¬
     
        
     
        è¿™æ˜¯ä½ ç¬”è®°æœ¬ç¦æ­¢è¿è¡Œè„šæœ¬ï¼Œè§£å†³åŠæ³•
     
        å…ˆæœç´¢powerShell,ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
        
        å‘½ä»¤ï¼š set-ExecutionPolicy RemoteSigned  
        
        ![image-20191226075218396](image-20191226075218396.png)

**å®‰è£…å•æ–‡ä»¶ç»„ä»¶ä¾èµ–åŒ…**ï¼ˆå®‰è£…å®Œæˆvue-cliåè¿›è¡Œè¿™ä¸€æ­¥ï¼‰

- æ­£å¸¸å®‰è£…

```cmd
    npm install @vue/cli-service-global -g
```

- cnpmå®‰è£…çš„ç”¨ï¼š


```cmd
    cnpm install @vue/cli-service-global -g
```

- yarnå®‰è£…çš„ç”¨ï¼š


```cmd
    yarn global add @vue/cli-service-global
```

**æ³¨æ„ï¼š**å¦‚æœ å‰é¢ç”¨yarnçš„äººå°±ä¸€ç›´ç”¨yarn,ä¸è¦ç”¨yarnè£…å®Œvue-cli,åˆç”¨npmè£…å…¶å®ƒæ’ä»¶ï¼Œè¿™æ ·æœ‰å¯èƒ½ ä¼šå‡ºé—®é¢˜ï¼Œå°½é‡éƒ½æ˜¯åŒæ­¥ä¸€ä¸ªå®‰è£…ï¼Œå°±æ˜¯ä»¥å‰ç”¨npm,åé¢å°±ä¸€ç›´ç”¨npm,ä»¥å‰ç”¨yarn åé¢å°±ä¸€ç›´ç”¨yarn

## ç»„ä»¶ç»“æ„è®²è§£

- æŠŠæ¯ä¸ªç»„ä»¶éƒ½æ”¾åˆ°ä¸€ä¸ªç‹¬ç«‹çš„.vueæ–‡ä»¶é‡Œï¼Œ

- æ–‡ä»¶çš„åç¼€æ˜¯ï¼š`.vue` æ–‡ä»¶

- æ­¤æ–‡ä»¶ä¸‰å¤§éƒ¨åˆ†ï¼š `template` ã€ `script`  ã€ `style`

- template

  - å†™htmlç»“æ„çš„
  - æ³¨æ„è¿™é‡Œçš„htmléƒ¨åˆ†å¿…é¡»ç”¨ä¸€ä¸ªæ ‡ç­¾å…¨åŒ…ä½

- script

  - å†™é€»è¾‘çš„ï¼Œdataã€methodsã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€è®¡ç®—å±æ€§ç­‰ç­‰ä»£ç éƒ½å†™åœ¨è¿™ä¸ªéƒ¨åˆ†
  - æ³¨æ„è¿™é‡Œçš„dataä¸å†æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ç»„ä»¶é‡Œï¼Œdataå°†ä¼šæ˜¯ä¸€ä¸ªå‡½æ•°,returnä¸€ä¸ªå¯¹è±¡ã€‚

- style

  - å†™æ ·å¼çš„

  - å¦‚ä½• å¯¼å…¥å¤–éƒ¨css,

    - åœ¨cssä¸­çš„å¯¼å…¥(ä¸»ä½“ä½¿ç”¨)ï¼š

    ```css
     @import url(./babel.css);
    ```

    

- å¿«æ·é”®å¿«é€Ÿç”Ÿæˆï¼š `<vue>`

- **å•æ–‡ä»¶ç»„ä»¶çš„è¿è¡Œ**

  åœ¨cmdçª—å£è¯¥vueæ–‡ä»¶æ ¹ç›®å½•ä¸‹è¾“å…¥`vue serve index.vue`    è¿™é‡Œ`index.vue`æ˜¯éœ€è¦è¿è¡Œçš„å•æ–‡ä»¶ç»„ä»¶çš„è·¯å¾„

  ```cmd
  vue serve index.vue     
  ```

  **æ³¨æ„ç‚¹**
  
  - templateé‡Œé¢çš„htmléƒ¨åˆ†å¿…é¡»ç”¨ä¸€ä¸ªæ ‡ç­¾å…¨åŒ…ä½
  - ç»„ä»¶é‡Œæ²¡æœ‰elï¼Œç»„ä»¶æ˜¯æ— éœ€æŒ‚è½½åˆ°å“ªçš„ï¼Œé‡Œé¢å·²ç»æœ‰templateæ˜¯å®ƒçš„ä½¿ç”¨çš„htmläº†
  - dataåœ¨ç»„ä»¶é‡Œé¢æ˜¯ä¸€ä¸ªfunction,return ä¸€ä¸ªå¯¹è±¡

```vue
<template>
  <!-- ç»„ä»¶htmlåŒºåŸŸ 
  åœ¨ç»„ä»¶é‡Œé¢çš„htmléƒ½å¿…é¡»æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ ‡ç­¾åŒ…ä½æ‰€æœ‰æ ‡ç­¾
  -->
  <div>
    <button>æŒ‰é’®</button>
    <button>{{msg}}</button>
  </div>
</template>

<script>
export default {
  // ä¸å†éœ€è¦elå»ç¡®å®šä½¿ç”¨èŒƒå›´
  // ç»„ä»¶ é‡Œé¢çš„dataå°†æ˜¯ä¸€ä¸ªå‡½æ•° returnä¸€ä¸ªå¯¹è±¡
  //data:function(){return {}}
  data() {
    return {
      msg: "hello"
    };
  },
  methods: {
    alertEvent(value) {
      alert(value);
    }
  },
  created() {
      //è¿™é‡Œé¢è¯­æ³•æ£€æµ‹æ¯”è¾ƒä¸¥æ ¼ï¼Œç›´æ¥å†™consoleä¼šæŠ¥é”™
    window.console.log(this);
    // this.alertEvent(123);
  }
};
</script>

<style>
/* å¦‚æœéœ€è¦å¼•å…¥ å¤–éƒ¨css 
åœ¨cssä¸­çš„å¯¼å…¥ï¼š
 @import url(./babel.css);
 åœ¨jsä¸­çš„å¯¼å…¥
 import "./babel.css"
*/
/* @import url(./babel.css); */
@import "./babel.css";
button {
  width: 100px;
}
</style>
```



## å¦‚ä½•åœ¨ç»„ä»¶ä¸­å¼•å…¥å…¶å®ƒç»„ä»¶

>å¦‚ä½•åœ¨ä¸€ä¸ªç»„ä»¶ä¸­å¼•å…¥å…¶å®ƒç»„ä»¶,å®ç°ä¸€ä¸ªç»„è£…ã€‚

**ç»„ä»¶çš„ä½¿ç”¨ä¸‰æ­¥**

- 1ï¼šå¯¼å…¥ç»„ä»¶ 

  - import è‡ªå®šä¹‰çš„ä¸€ä¸ªç»„ä»¶å    from "ç»„ä»¶è·¯å¾„";  
  - æ³¨æ„ç‚¹ï¼Œè¿™é‡Œç»„ä»¶è·¯å¾„å°±ç®—æ˜¯å½“å‰åŒä¸€ç›®å½•ä¹Ÿæœ€å¥½åŠ ä¸Š"./ç»„ä»¶å"ï¼Œä¸ç„¶ä¼šæŠ¥é”™ 

- 2ï¼šæ³¨å†Œç»„ä»¶

  - ç»„ä»¶çš„ä½¿ç”¨æ˜¯éœ€è¦æ³¨å†Œçš„ï¼Œæ³¨å†Œæ–¹å¼ä¸ºï¼š

    ```javascript
    export default {
      components: {
        ç»„ä»¶å,     //æ³¨å†Œçš„ç»„ä»¶éƒ½å†™åœ¨componentså¯¹è±¡ä¸‹ã€‚
      }
    }
    ```

- 3ï¼šä½¿ç”¨ç»„ä»¶(å†™åˆ°ç›¸åº”htmlä½ç½®å³å¯)

  ```html
      <ç»„ä»¶å></ç»„ä»¶å>   //è¯¥ç»„ä»¶åæ¥è‡ªäºåœ¨ç»„ä»¶æ³¨å†Œæ—¶çš„ç»„ä»¶å
  ```

  ```html
  <template>
    <div class="main">
      <!-- ä½¿ç”¨ç»„ä»¶  -->
      <!-- åœ¨è¿™index.vueæ˜¯çˆ¶ç»„ä»¶ï¼Œtopï¼Œmiddleï¼Œbottomæ˜¯å­ç»„ä»¶ -->
      <!-- topä¸middleæ˜¯å…„å¼Ÿç»„ä»¶ -->
      <top></top>
      <middle></middle>
      <bottom></bottom>
    </div>
  </template>
  <script>
  // å¯¼å…¥ç»„ä»¶  è¿™é‡Œé¢top,middle,bottomæ˜¯éœ€è¦å¦å¤–åˆ›å»ºçš„vueç»„ä»¶ï¼Œè¿™é‡Œæ˜¯æ²¡åˆ›å»ºçš„
  import top from "./top.vue";
  import middle from "./middle.vue";
  import bottom from "./bottom.vue";
  
  export default {
    // ç»„ä»¶æ³¨å†Œ
    components: {
      top, //ç›¸å½“äºtop:top
      middle,
      bottom
    }
  };
  </script>
  <style>
  .main {
    width: 100%;
  }
  .main img {
    width: 100%;
  }
  </style>
  ```
  
  

## ç»„ä»¶ä¸­å¦‚ä½•ä½¿ç”¨å¤–éƒ¨æ’ä»¶

**ä»¥axiosä¸ºä¾‹**

ä½¿ç”¨å¤–éƒ¨æ’ä»¶åˆ†ä¸ºä¸‰æ­¥

1. è£…åŒ…ï¼ˆå®‰è£…å¤–éƒ¨æ’ä»¶ï¼‰

   ```html
   npm i axios //åˆ°ç›¸åº”ç›®å½•ä¸‹æ‰§è¡Œè¯¥å‘½ä»¤    
   ```

2. å¯¼åŒ…ï¼ˆåœ¨å•æ–‡ä»¶ç»„ä»¶ä¸­å¯¼å…¥å¤–éƒ¨æ’ä»¶ï¼‰

   ```
   import axios from "axios"
   ```

3. ç”¨åŒ…ï¼ˆåœ¨ç›¸åº”ä»£ç ä½ç½®ä½¿ç”¨ï¼‰

   ä½¿ç”¨å’Œä»¥å‰ä¸€æ ·ï¼Œè¯¥æ€ä¹ˆç”¨è¿˜æ˜¯æ€ä¹ˆç”¨

   ```javascript
   axios({
   url:"xxx"
   }).then(res=>{
   })
   ```

   **DEMO**
   
   ```vue
   <template>
     <div>
       <input type="text" v-model="searchValue" />
       <button @click="getMusic">ç‚¹æˆ‘</button>
       <ul>
         <li v-for="(item, index) in songs" :key="index">{{item.name}}</li>
       </ul>
     </div>
   </template>
   <script>
   // ä½¿ç”¨axios   1:å®‰è£…axiosï¼Œnpm i axios   2:å¯¼åŒ…  import axios from "axios"  3:ä½¿ç”¨
   // å¯¼åŒ…
   import axios from "axios";
   export default {
     data() {
       return {
         searchValue: "", //inputæ¡†çš„å€¼
         songs: []
       };
     },
     methods: {
       getMusic() {
         // ä½¿ç”¨ï¼Œä»¥å‰æ€ä¹ˆç”¨ï¼Œç°åœ¨è¿˜æ€ä¹ˆç”¨
         axios({
           url: "https://autumnfish.cn/search?keywords=" + this.searchValue,
           method: "get"
         }).then(res => {
           this.songs = res.data.result.songs;
           window.console.log(this.songs);
         });
       }
     }
   };
   </script>
   <style>
   </style>
   ```
   
   

## æ’­æ”¾å™¨-simple

http://www.dongh5.com:9000/ 

 http://www.dongh5.com:9000/search?keywords= ç¥è¯    æœç´¢æ­Œæ›²æ—¶æ¥å£è·å–éŸ³ä¹åˆ—è¡¨

http://www.dongh5.com:9000/song/url?id=310574  è·å–éŸ³ä¹url  idæ¥è‡ªäºä¸Šä¸€æ¥å£è¯¦æƒ…       



åˆ†æ

1. æœç´¢åŠŸèƒ½
   1. inputæ¡†ï¼šv-model   @keyup.enter="æœç´¢äº‹ä»¶"
   2. æœç´¢æŒ‰é’®   @click  ="æœç´¢äº‹ä»¶"
   3. æœç´¢äº‹ä»¶
      1. ä½¿ç”¨axios
         1. npm  i axios  å®‰è£… axios
         2. å¯¼å…¥axios   import axios from 'axios'
         3. ä½¿ç”¨axios
      2. ä½¿ç”¨axiosè°ƒç”¨æ¥å£è·å–æ­Œæ›²åˆ—è¡¨æ•°æ®
      3. å°†è·å–åˆ°çš„æ•°æ®æ¸²æŸ“å‡ºæ¥
         1. v-for
      4. ç‚¹å‡»æ­Œæ›²åˆ—è¡¨
         1. åœ¨liä¸Šç»‘å®šç‚¹å‡»äº‹ä»¶
            1. @click="æ’­æ”¾åŠŸèƒ½ï¼ˆä¼ é€’æ­Œæ›²idï¼‰"
         2. é€šè¿‡ç‚¹å‡»äº‹ä»¶æŸ¥æ‰¾æ­Œæ›²çš„url
            1. axiosè°ƒç”¨æ¥å£è·å–æ­Œæ›²url
      5. æ’­æ”¾æ­Œæ›²
         1. å°†è·å–åˆ°çš„æ­Œæ›²urlç»‘å®šåˆ°ç›¸åº”audioçš„srcä¸Š  ï¼šsrc









## ç»„ä»¶é—´çš„ä¼ å€¼

>å¦‚æœAç»„ä»¶ä¸­å¼•å…¥äº†Bç»„ä»¶ ï¼Œè¿™æ ·æˆ‘ä»¬ç§°Aç»„ä»¶ä¸ºçˆ¶ç»„ä»¶ï¼ŒBä¸ºå­ç»„ä»¶

**çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶**

- åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šå®šä¹‰ä¸€ä¸ªrefå±æ€§

    ```html
      <ç»„ä»¶å ref="xxx"></ç»„ä»¶å> 
    ```

- åœ¨éœ€è¦ç»™å­ç»„ä»¶ä¼ å€¼çš„åœ°æ–¹å†™å…¥ï¼š

  ```javascript
  this.$refs.xxx   //è¿™å°±ä»£è¡¨äº†å­ç»„ä»¶xxxçš„vueå®ä¾‹
  //è¿™é‡Œxxxä»£ç æ ‡ç­¾ä¸­å®šä¹‰çš„refå±æ€§åè¿™é‡Œå°±å¯è®¿é—®åˆ°å­ç»„ä»¶é‡Œé¢çš„dataå±æ€§ä¸methodsæ–¹æ³•
  //å¦‚è¦ä¿®æ”¹å­ç»„ä»¶é‡Œé¢dataé‡Œçš„æŸä¸ªå€¼ï¼š          this.$refs.xxx.å­ç»„ä»¶é‡Œdataå±æ€§å
  //å¦‚æœéœ€è¦è°ƒç”¨å­ç»„ä»¶é‡Œé¢methodsé‡ŒæŸä¸ªæ–¹æ³•ï¼š   this.$refs.xxx.å­ç»„ä»¶é‡Œé¢methodsé‡Œæ–¹æ³•å   
  ```

**å­ç»„ä»¶ä¼ å€¼ç»™çˆ¶ç»„ä»¶**

```javascript
    this.$parent    //è¿™å°±ä»£è¡¨çˆ¶ç»„ä»¶çš„vueå®ä¾‹
    //å¦‚è¦ä¿®æ”¹çˆ¶ç»„ä»¶é‡Œé¢dataé‡Œçš„æŸä¸ªå€¼ï¼š         this.$parent.çˆ¶ç»„ä»¶é‡Œdataå±æ€§å
    //å¦‚æœéœ€è¦è°ƒç”¨çˆ¶ç»„ä»¶é‡Œé¢methodsé‡ŒæŸä¸ªæ–¹æ³•ï¼š   this.$parent.çˆ¶ç»„ä»¶é‡Œé¢methodsé‡Œæ–¹æ³•å   
```

æ³¨æ„ï¼š`ref`è·å–åˆ°çš„domä¿¡æ¯åœ¨è¿™é‡Œä¸`document.getElementById`æ˜¯æœ‰æœ¬è´¨ åŒºåˆ«çš„

```html
//ä¸¤ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªæ˜¯father.vue
<template>
  <div>
    <button @click="btnClick">ç‚¹æˆ‘è·å–æ•°æ®</button>
    <div>ä½ é€‰ä¸­çš„å½“å‰æ­Œæ›²:{{localSong}}</div>
    <son ref="son" id="son"></son>
  </div>
</template>
<script>
// ç»„ä»¶ä½¿ç”¨ï¼Œå¯¼åŒ…ï¼Œæ³¨å†Œï¼Œä½¿ç”¨
//1ï¼šå¯¼åŒ…
import axios from "axios";
import son from "./son.vue";
export default {
  data() {
    return {
      songs: [],
      localSong: ""
    };
  },
    //2ï¼šæ³¨å†Œ
  components: {
    son
  },
  methods: {
    btnClick() {
      window.console.log("refè®¿é—®ï¼š", this.$refs.son.$el);
      window.console.log("åŸç”Ÿè®¿é—®:", document.getElementById("son"));
      //è¦è°ƒæ¥å£ï¼Œæ˜¯ä¸æ˜¯è¦ä½¿ç”¨axios
      //è£…åŒ…ï¼Œå¯¼åŒ…ï¼Œç”¨åŒ…
      axios({
        url:
          "https://autumnfish.cn/search?keywords=ç¥è¯&_t=" + Math.random() * 100
      }).then(res => {
        //   çˆ¶ç»„ä»¶ä¼ é€’å­ç»„ä»¶å€¼ï¼Œåœ¨å­ç»„ä»¶ä¸Šå®šä¹‰ä¸€ä¸ªref,é€šè¿‡this.$refs.åå­—ï¼Œæˆ‘ä»¬å°±èƒ½è®¿é—®å­ç»„ä»¶çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯å¯è®¿é—®å­ç»„ä»¶dataå±æ€§ä¸methodsæ–¹æ³•
        this.$refs.son.songs = res.data.result.songs;
        this.$refs.son.alertEvent();
        window.console.log(res.data.result.songs);
      });
    }
  }
};
</script>
<style>
</style>
```

```vue
//son.vue
<template>
  <ul>
    <li v-for="(item, index) in songs" :key="index" @click="liCLick(item.name)">{{item.name}}</li>
  </ul>
</template>
<script>
// å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶é‡Œçš„dataä¸methodsæ›´ç®€å•ï¼Œåªéœ€è¦this.$parentå°±å¤Ÿäº†
export default {
  data() {
    return {
      songs: []
    };
  },
  methods: {
    liCLick(name) {
      this.$parent.localSong = name;
      window.console.log("è®¿é—®çˆ¶ç»„ä»¶ï¼š", name, this.$parent);
    },
    alertEvent() {
      alert(123);
    }
  }
};
</script>
<style>
</style>
```



## æ’­æ”¾å™¨åˆ—è¡¨ç»„ä»¶æŠ½å–







## éŸ³ä¹æ’­æ”¾å™¨Demo

>ç”¨å•æ–‡ä»¶ç»„ä»¶ æ–¹å¼å®ç°éŸ³ä¹æ’­æ”¾å™¨ï¼Œ
>
>éœ€æ±‚ï¼šéŸ³ä¹åˆ—è¡¨ï¼Œè¯„è®ºåˆ—è¡¨éƒ½è¦æŠ½ç¦»æˆå•ç‹¬ç»„ä»¶ã€‚

æ¥å£ï¼š

 http://www.dongh5.com:9000/ 

-   http://www.dongh5.com:9000/search?keywords= ç¥è¯               æœç´¢æ­Œæ›²æ—¶æ¥å£è·å–éŸ³ä¹åˆ—è¡¨
-   http://www.dongh5.com:9000/song/url?id=310574                      è·å–éŸ³ä¹url
-   http://www.dongh5.com:9000/comment/music?id=310574         è·å– ç”¨æˆ·è¯„è®ºåˆ—è¡¨
-   http://www.dongh5.com:9000/song/detail?ids=310574                è·å– éŸ³ä¹è¯¦æƒ…   å¦‚å›¾ç‰‡ï¼Œæ¼”å”±è€…ç­‰

æµç¨‹ï¼š

1. åˆ›å»ºapp.vueï¼Œå°†htmlé‡Œé¢çš„å¸ƒå±€ç§»å…¥app.vueï¼Œå®ç°åŸºæœ¬æ ·å¼
2. å®Œæˆæœç´¢åŠŸèƒ½
   1. inputæ¡†v-modelç»‘å®šï¼ŒåŒæ—¶@keyup.enterç»‘å®šæœç´¢äº‹ä»¶
   2. æœç´¢äº‹ä»¶è°ƒç”¨axios
      1. å®‰è£… axios 
      2. app.vueä¸­å¯¼å…¥axios
      3. åœ¨æœç´¢äº‹ä»¶ä¸­è°ƒç”¨axiosè·å–æ­Œæ›²åˆ—è¡¨
   3. å°†æ­Œæ›²åˆ—è¡¨æŠ½ç¦»æˆç»„ä»¶
      1. åœ¨componentsé‡Œåˆ›å»ºä¸€ä¸ªåˆ—è¡¨ç»„ä»¶
      2. åœ¨app.vueä¸­å¯¼å…¥åˆ—è¡¨ç»„ä»¶
      3. æ³¨å†Œåˆ—è¡¨ç»„ä»¶
      4. åœ¨htmlç›¸åº”ä½ç½®æ”¾å…¥åˆ—è¡¨ç»„ä»¶
   4. é€šè¿‡çˆ¶å­ä¼ å€¼å°†æœç´¢äº‹ä»¶ä¸­çš„åˆ—è¡¨æ•°æ®ä¼ å…¥åˆ—è¡¨ç»„ä»¶ 
   5. å®ç°æ­Œæ›²æ’­æ”¾åŠŸèƒ½
      1. åœ¨æ­Œæ›²åˆ—è¡¨é‡Œç»‘å®šäº‹ä»¶ï¼Œä¼ å…¥æ­Œæ›²id
      2. åœ¨app.vueä¸­å†™æ–¹æ³•è°ƒç”¨axiosè·å–æ­Œæ›²url
      3. åœ¨æ­Œæ›²åˆ—è¡¨ä¸­è°ƒç”¨app.vueä¸­çš„æ–¹æ³•
      4. å°†æ­Œæ›²è·å¾—çš„urlç»‘å®šåˆ°audioä¸Š
   6. å®ç°ä¸­é—´åŠ¨ç”»éƒ¨åˆ†åŠŸèƒ½
      1. åŠ¨ç”»æ’­æ”¾æ˜¯é€šè¿‡æ§åˆ¶ playingçš„classå»æ§åˆ¶çš„
      2. æ‰€ä»¥åœ¨è·å–æ­Œæ›²urlåï¼ŒåŠ¨ç”»å°±åº”è¯¥ç«‹é©¬æ’­æ”¾ï¼Œæ‰€ä»¥é€šè¿‡v-bindæ§åˆ¶playingä¸ºtrue
      3. audioæœ‰äºŒä¸ªäº‹ä»¶ä¹Ÿéœ€è¦æ§åˆ¶ åŠ¨ç”»ï¼Œ
         1. playingæ’­æ”¾çŠ¶æ€æ—¶ï¼Œ
         2. pausedæš‚åœçŠ¶æ€æ—¶
   7. å®Œæˆè¯„è®ºç»„ä»¶
      1. é€šè¿‡æ­Œæ›²idè·å–è¯„è®ºæ¥å£













-  





## Vue-clié¡¹ç›®åˆ›å»º

[ç›´é€šè½¦](https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create)

### ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶

-  è„šæ‰‹æ¶å°±æ˜¯ä¸ªé¡¹ç›®æ¨¡æ¿ ï¼Œ ç›¸å½“äºæŠŠæ•´ä¸ªæ–‡ä»¶åŸºæœ¬ç›®å½•ç»“æ„æ­å¥½äº†ï¼ŒæŠŠå¿…è¦çš„æ–‡ä»¶ä¹Ÿå»ºå¥½ äº†ï¼Œè®©æˆ‘ä»¬çœäº†å¾ˆå¤šäº‹æƒ…ã€‚

### **åˆ›å»ºé¡¹ç›®ï¼š**

2. åˆ›å»ºæ—¶è·¯å¾„ä¸è¦é€‰é”™ï¼Œå°±æ˜¯å‘½ä»¤çš„è·¯å¾„è¦æ˜¯éœ€è¦åˆ›å»ºé¡¹ç›®çš„æ–‡ä»¶å¤¹ä¸‹

   - å®Œç¾é€‰æ‹©ä¸å‡ºé”™è·¯å¾„æ–¹æ³•ï¼šåœ¨æ–‡ä»¶å¤¹ç›¸åº”è·¯å¾„ä¸‹çš„åœ°å€æ è¾“å…¥cmd ---å† å›è½¦
   
3. è¿è¡Œåˆ›å»ºå‘½ä»¤

   ```html
   vue create é¡¹ç›®å      //è¿™é‡Œé¡¹ç›®åä¸è¦æœ‰ä¸­æ–‡ï¼Œä¸è¦æœ‰å¤§å†™å­—æ¯ï¼Œä¸è¦æç‰¹æ®Šç¬¦å·ï¼Œå°½å¯èƒ½æœ‰æ„ä¹‰ ï¼Œåƒæ™®é€šå˜é‡å‘½åä¸€æ ·
   ```

   

4. å¼¹å‡ºçš„å¯¹è¯æ¡†å…ˆé€‰æ‹©é»˜è®¤çš„é€‰é¡¹ï¼ˆå¦‚ä¸‹å›¾ï¼‰

   - ![](1562485415022.png)

5. ç¨ç­‰ä¸€ä¼šï¼Œç­‰è¿›åº¦æ¡èµ°å®Œ æç¤ºå¦‚ä¸‹ç”»é¢è¯´æ˜æˆåŠŸäº†,å¦‚ä¸‹å›¾ï¼š

   - ![](1562485530804.png)

6. è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹(å°±æ˜¯é¡¹ç›®åçš„æ–‡ä»¶å¤¹)

   - `cd é¡¹ç›®å` ç›´æ¥æ ¹æ®æç¤ºå³å¯ 

7. è¿è¡Œé¡¹ç›®

   - ```html
     npm run serve
     ```

8. ç¨ç­‰ç‰‡åˆ» ï¼Œå‡ºç°å¦‚ä¸‹æ•ˆæœè¯´æ˜æˆåŠŸäº†

   ![](1562485640647.png)



### æŠ¥é”™çš„åŸå› ï¼š

1. ![1562485820281](1562485820281.png)

   åˆ›å»ºçš„å‘½ä»¤è¾“å…¥é”™è¯¯`create`è¾“å…¥æˆäº†`creat`

2. ![1562485879426](1562485879426.png)

   1. ç½‘ç»œé—®é¢˜ï¼Œæœ‰çº¿æ¢æ— çº¿ï¼Œæ— çº¿æ¢4G
   2. ç»ˆç«¯çš„æƒé™é—®é¢˜ï¼›æ–°å»ºç®¡ç†å‘˜æ¨¡å¼çš„ç»ˆç«¯
   3. å½“å‰è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«å…¶ä»–è½¯ä»¶å ç”¨ï¼šå…³é—­æ‰€æœ‰å¯èƒ½å½±å“çš„è½¯ä»¶ï¼ˆé‡å¯ï¼‰
   4. npmåŒ…ç®¡ç†å·¥å…·çš„é—®é¢˜:ï¼ˆå‰é¢å®‰è£…æ—¶å·²åšè¯´æ˜ï¼‰
      1. ç”¨yarnæ¥å®‰è£…
      2. æ‰§è¡Œ``npm cache clean -f`` åœ¨é‡æ–°åˆ›å»ºé¡¹ç›®

3. ![1562486092416](1562486092416.png)

   åˆ›å»ºé¡¹ç›®æ—¶ï¼Œç”¨åˆ°äº†ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ–‡ä»¶å¤ªå¤šäº†gitäººä¸ºæ²¡æœ‰å¿…è¦ç®¡ï¼Œæç¤ºä½ ä¸€ä¸‹ï¼Œé€‰æ‹©ä¸å†æ˜¾ç¤ºå°±OKäº†

   vue-cliåˆ›å»ºé¡¹ç›®æ—¶ï¼Œå·²ç»è®¾ç½®äº†gitå¿½ç•¥æ–‡ä»¶ å°±åœ¨`.gitignore`ä¸­



### å®åœ¨æ— æ³•åˆ›å»ºé¡¹ç›®çš„è§£å†³æ–¹æ¡ˆï¼ˆé‡è¦ï¼‰

1. vue-cliåˆ›å»ºé¡¹ç›®çš„æœ¬è´¨æ˜¯ï¼š

   1. åˆ›å»ºæ–‡ä»¶å¤¹
   2. ä¸‹è½½ç¬¬ä¸‰æ–¹æ¨¡å—
   3. åˆ›å»ºé¡¹ç›®çš„åŸºæœ¬ç»“æ„
   4. è®¾ç½®å„ä¸ªæ–‡ä»¶ä¹‹é—´çš„å…³ç³»
   5. åˆ›å»ºgitä»“åº“

2. æ‰¾ä¸€ä¸ªå¯ä»¥åˆ›å»ºé¡¹ç›®çš„äººï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®

   1. åˆ é™¤`node_modules`
   2. å‘ç»™ä½ 
   3. ä½ ä½¿ç”¨`npm i `å®‰è£…é¡¹ç›®ä¸­ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹æ¨¡å—
   4. è¿è¡Œé¡¹ç›®`npm run serve`

## Vue-clié¡¹ç›®ç»“æ„

**é¡¹ç›®ç»“æ„è¯´æ˜ï¼š**

![image-20191226162056314](image-20191226162056314.png)

- node_modules       ç¬¬ä¸‰æ–¹æ¨¡å—åŒ…ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ‰€éœ€è¦ç”¨åˆ°çš„ä¾èµ–åŒ…
- public
  - favicon.ico     è¿è¡Œé¡¹ç›®æ—¶åœ¨ç½‘é¡µä¸Šæ˜¾ç¤º çš„å°å›¾æ ‡
  - index.html      é¡¹ç›®çš„é¡µé¢æ¨¡æ¿ ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®è¿è¡Œæœ€å¼€å§‹ï¼Œæ˜¯å…ˆæ‰§è¡Œè¿™ä¸ªæ¨¡æ¿htmlçš„
- src                            é¡¹ç›®å¼€å‘ä¸»ä½“å°±æ˜¯åœ¨è¿™ä¸ªsrcç›®å½•ä¸‹é¢
  - assets               é¡¹ç›®æ‰€éœ€è¦çš„é™æ€èµ„æºï¼Œå¦‚css,å›¾ç‰‡ç­‰æ–‡ä»¶
  - components     é¡¹ç›®ä¸­çš„å•æ–‡ä»¶ç»„ä»¶éƒ½æ”¾è¿™é‡Œ
  - App.vue             å…¥å£ç»„ä»¶ ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé¡¹ç›®å°±æ˜¯ä¸€ä¸ªapp.vueçš„å•æ–‡ä»¶ç»„ä»¶ï¼Œåªä¸è¿‡é‡Œé¢åŒ…æ‹¬äº†å¾ˆå¤šå°ç»„ä»¶
  - main.js              å…¥å£jsæ–‡ä»¶ï¼Œè¿›å…¥é¡¹ç›®ä¼šä¼˜å…ˆæ‰§è¡Œmain.jsä»¥æ­¤æ¥è¿è¡Œapp.vue
-    .gitignore                è®©gitå¿½ç•¥æŸäº›æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹
- babel.config.js           jsç¼–è¯‘çš„è®¾ç½®ï¼Œæ¯”å¦‚æŠŠé«˜ç‰ˆæœ¬çš„jsè½¬ä¸ºä½ç‰ˆæœ¬çš„js,è®©é¡¹ç›®è¾¾åˆ°æ›´å¥½å…¼å®¹æ€§
- package-lock.json     é¡¹ç›®æ¨¡å—è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¥æºã€‚
- package.json              é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- README.md                é¡¹ç›®è¯´æ˜



## Vue-cli å…¥å£æ–‡ä»¶main.jsåˆ†æ

1. main.jsä¸­
   1. åˆ›å»ºäº†æœ€å¤–å±‚çš„Vueå®ä¾‹
   2. æŠŠApp.vueè¿™ä¸ªç»„ä»¶ï¼Œå½“åšVueå®ä¾‹å†…éƒ¨çš„æœ€é¡¶çº§ç»„ä»¶å¹¶æ¸²æŸ“å‡ºæ¥
   3. å’Œpublic/index.html ä¸­çš„é‚£ä¸ªidä¸º`app`çš„divå…³è”èµ·æ¥



## éŸ³ä¹æ’­æ”¾å™¨Demo

>ç”¨å•æ–‡ä»¶ç»„ä»¶ æ–¹å¼å®ç°éŸ³ä¹æ’­æ”¾å™¨ï¼Œ
>
>éœ€æ±‚ï¼šéŸ³ä¹åˆ—è¡¨ï¼Œè¯„è®ºåˆ—è¡¨éƒ½è¦æŠ½ç¦»æˆå•ç‹¬ç»„ä»¶ã€‚

æ¥å£ï¼š

http://www.dongh5.com:9000/

-  http://www.dongh5.com:9000/search?keywords= ç¥è¯               æœç´¢æ­Œæ›²æ—¶æ¥å£è·å–éŸ³ä¹åˆ—è¡¨
-  http://www.dongh5.com:9000/song/url?id=310574                      è·å–éŸ³ä¹url
-  http://www.dongh5.com:9000/comment/music?id=310574         è·å– ç”¨æˆ·è¯„è®ºåˆ—è¡¨
-  http://www.dongh5.com:9000/song/detail?ids=310574                è·å– éŸ³ä¹è¯¦æƒ…   å¦‚å›¾ç‰‡ï¼Œæ¼”å”±è€…ç­‰







